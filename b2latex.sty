%-------------------------------------------------------------------
% This is b2latex.sty, generated by B2Latex plugin on Rodin
% Author: K. DAMCHOOM, kd06r@ecs.soton.ac.uk
% Copyright(c)2008 ECS @ University of Southampton
%-------------------------------------------------------------------
% This style file is required for all latex files generated by the
% B2Latex plugin 0.5.x.
% Each command mentioned below, can be modified for your own style
% but command names are not allowed.
%
%-------------------------------------------------------------------
% Defined colors.
%-------------------------------------------------------------------
\usepackage{color}
\RequirePackage{ifthen}
\definecolor{keycolor}{rgb}{0,0,0.7}  %color of key words, blue is the default
\definecolor{labelcolor}{rgb}{0,0.4,0.8}  %color of labels, cyan
\definecolor{codecolor}{rgb}{0,0.2,0}  %color of formulas, black
\definecolor{xcodecolor}{rgb}{0,0,0}  %color of extended formulas, black
\definecolor{cmtcolor}{rgb}{0,0,0}  %color of comments, black
\newboolean{@insection}
\newboolean{@inaction}
\newboolean{@indesc}
%-------------------------------------------------------------------
% Special commands for MACHINE 
%-------------------------------------------------------------------
\newcommand{\changesection}[1]
{
	\ifthenelse{\boolean{@insection}}
	{ 
		\end{description}
	} {
		\ifthenelse{\boolean{@indesc}}
		{} {
			\begin{description}
			\setboolean{@indesc}{true}
		}
	}
	#1 \setboolean{@insection}{true}
	\begin{description}
}
\newcommand{\opensection}
{ 
	\setboolean{@indesc}{true}
	\begin{description} 
}
\newcommand{\closesection}
{
	\end{description}
	\setboolean{@indesc}{false}
}
\newcommand{\actionsection}[1]
{
	\ifthenelse{\boolean{@inaction}}
	{ 
		\end{description}
	} {}
	#1 \setboolean{@inaction}{true}
	\begin{description}
}

\newcommand{\MACHINE}[1] 
	{ \opensection \item[\textcolor{keycolor}{MACHINE }] #1 \hspace*{\fill} }

\newcommand{\REFINES}[1]
	{ \changesection{ \item[\textcolor{keycolor}{REFINES }] #1 \hspace*{\fill} } }

\newcommand{\SEES}[1]
	{ \changesection{ \item[\textcolor{keycolor}{SEES }] #1 \hspace*{\fill} } }

\newcommand{\VARIABLES}
	{ \changesection{ \item[\textcolor{keycolor}{VARIABLES}] \hspace*{\fill} } }

\newcommand{\INVARIANTS}
	{  \changesection{ \item[\textcolor{keycolor}{INVARIANTS}] \hspace*{\fill} } }

\newcommand{\VARIANT}
	{ \changesection{ \item[\textcolor{keycolor}{VARIANT}] \hspace*{\fill} } }

\newcommand{\EVENTS}
	{  \changesection{ \item[\textcolor{keycolor}{EVENTS}] \hspace*{\fill} } }

\newcommand{\INIT}
	{ \item[\textcolor{keycolor}{Initialisation}] \hspace*{\fill}
	 	\begin{description} }

\newcommand{\DUMMIES}
	{  \changesection{ \item[\textcolor{keycolor}{DUMMIES}] \hspace*{\fill} } }

%\newcommand{\EVT}[1]{  
%	\item[\textcolor{keycolor}{Event }] \textit{#1} $\defi$ \hspace*{\fill} 
%	\begin{description}} % opt1
% Option: deactivate above command and reactivate 
% the command below to display only event name
\newcommand{\EVT}[1]{  
	\item[\textit{#1}] $\defi$ \hspace*{\fill}
	\begin{description}} % opt2

\newcommand{\REF}[1]{ \actionsection{ \item[\textcolor{keycolor}{refines}] \textit{#1} \hspace*{\fill} } }

\newcommand{\EXTD}[1]{ \actionsection{ \item[\textcolor{keycolor}{extends}] \textit{#1} \hspace*{\fill} } }

\newcommand{\Status}[1]{ \actionsection{ \item[\textcolor{keycolor}{Status}] #1 \hspace*{\fill} } }

\newcommand{\AnyPrm}{ \actionsection{ \item[\textcolor{keycolor}{any}] \hspace*{\fill} } }

\newcommand{\WhereGrd}{ \actionsection{ \item[\textcolor{keycolor}{where}] \hspace*{\fill} } }

\newcommand{\WhenGrd}{ \actionsection{ \item[\textcolor{keycolor}{when}] \hspace*{\fill} } }

\newcommand{\Witnesses}{ \actionsection{ \item[\textcolor{keycolor}{with}] \hspace*{\fill} } }

\newcommand{\ThenAct}{ \actionsection{ \item[\textcolor{keycolor}{then}] \hspace*{\fill} } }

\newcommand{\BeginAct}{ \actionsection{ \item[\textcolor{keycolor}{begin}] \hspace*{\fill} } }

\newcommand{\EndAct}{ 
	\ifthenelse{\boolean{@inaction}}
	{
		\end{description}
		\setboolean{@inaction}{false}
	} {} 
	\item[\textcolor{keycolor}{end}] \hspace*{\fill} 
	\end{description}
}

%-------------------------------------------------------------------
% Special commands for CONTEXT 
%-------------------------------------------------------------------

\newcommand{\CONTEXT}[1]{  \opensection \item[\textcolor{keycolor}{CONTEXT }] #1 \hspace*{\fill} }

\newcommand{\EXTENDS}[1]{ \changesection{ \item[\textcolor{keycolor}{EXTENDS }] #1 \hspace*{\fill} } }

\newcommand{\SETS}{ \changesection{ \item[\textcolor{keycolor}{SETS}] \hspace*{\fill} } }

\newcommand{\TYPES}{ \changesection{ \item[\textcolor{keycolor}{TYPES}] \hspace*{\fill} } }

\newcommand{\CONSTANTS}{ \changesection{ \item[\textcolor{keycolor}{CONSTANTS}] \hspace*{\fill} } }

\newcommand{\THEOREMS}{ \changesection{ \item[\textcolor{keycolor}{THEOREMS}] \hspace*{\fill} } }

\newcommand{\AXIOMS}{ \changesection{ \item[\textcolor{keycolor}{AXIOMS}] \hspace*{\fill} } }

%-------------------------------------------------------------------
% General commands used in both machines and contexts
%-------------------------------------------------------------------

% Specification Title
\newcommand{\BTitle}[3]{
\item[\fbox{\parbox{6in}{\centering{~\\An Event-B Specification of #1
\\Generated Date: #2 @ #3\\}}}]
}
% End of MACHINE or CONTEXT
\newcommand{\END}
{
	\ifthenelse{\boolean{@insection}}
	{
		\end{description} 
		\setboolean{@insection}{false}
	}{}  
	\item[\textcolor{keycolor}{END}] \hspace*{\fill} 
	\closesection
}

% Printing non-labelled elements
% (i.e. variables, sets and constants)
\newcommand{\Item}[1]{ \item[\textcolor{codecolor}{$\tt#1$}]}
\newcommand{\ItemX}[1]{ \item[\textcolor{xcodecolor}{$\it#1$}]}

% Printing an element with label name
% (i.e. invariants, theorems, axioms, witnesses and actions)
% parameter #1 is a label name and #2 is its content
\newcommand{\nItem}[2]{ \item[\textcolor{labelcolor}{$\tt #1:$}] \textcolor{codecolor}{$\tt #2$}} % opt1
\newcommand{\nItemX}[2]{ \item[\textcolor{labelcolor}{$\tt #1:$}] \textcolor{xcodecolor}{$\it #2$}} % opt1
% Below is an alternative command for printing with no label
%\newcommand{\nItem}[2]{ \item[] $#2$} % opt2

\newcommand{\var}[2]{ \item[\textcolor{codecolor}{$\tt #1:$}] \textcolor{codecolor}{$\tt #2$}} % opt1
\newcommand{\varX}[2]{ \item[\textcolor{xcodecolor}{$\tt #1:$}] \textcolor{xcodecolor}{$\it #2$}} % opt1


% Commentations, reselect the second option for displaying asterisks
% - Newline comment 
\newcommand{\cmt}[1]{ \hspace*{\fill}\\\textcolor{cmtcolor}{ #1}} %opt1 
%\newcommand{\cmt}[1]{ \hspace*{\fill}\\ $/\ast$ #1 $\ast/$} % opt2

% - Back Comment, for variables, sets and constants
\newcommand{\bcmt}[1]{~~~ \textcolor{cmtcolor}{#1}} %opt1 
%\newcommand{\bcmt}[1]{~~~ $/\ast$ #1 $\ast/$} %opt2
% Select opt3 or opt4 (including asterisks) if you want to display this kind of comments
% on the newline like the newline comment
%\newcommand{\bcmt}[1]{ \hspace*{\fill}\\ #1} %opt3 
%\newcommand{\bcmt}[1]{ \hspace*{\fill}\\ $/\ast$ #1 $\ast/$} % opt4

%-------------------------------------------------------------------
